!function(){"use strict";const t=document.getElementById("primary-navigation"),e=document.getElementById("primary-navigation-toggle"),n=document.getElementById("primary-navigation-container"),a=document.getElementById("menu-primary-menu"),r=window.matchMedia("( min-width: 53.75em )"),i=t=>{const a="true"===n.getAttribute("data-open");t.stopPropagation(),e.setAttribute("data-open",!a),e.setAttribute("aria-expanded",!a),n.setAttribute("data-open",!a),n.setAttribute("aria-hidden",a)},o=t=>{const{target:e}=t,n=document.getElementById(e.getAttribute("aria-controls")),r="true"===e.getAttribute("data-open");e.setAttribute("data-open",!r),e.setAttribute("aria-expanded",!r),n.setAttribute("data-open",!r),n.setAttribute("aria-hidden",r);Array.from(a.querySelectorAll(".menu-item > button")).filter((t=>t!==e)).forEach((t=>{const e=document.getElementById(t.getAttribute("aria-controls"));t.setAttribute("data-open",!1),t.setAttribute("aria-expanded",!1),e.setAttribute("data-open",!1),e.setAttribute("aria-hidden",!0)}))},s=t=>{const{key:e,target:n}=t;if("Escape"!==e)return;const a=document.getElementById(n.getAttribute("aria-controls"));n.setAttribute("data-open",!1),n.setAttribute("aria-expanded",!1),a.setAttribute("data-open",!1),a.setAttribute("aria-hidden",!0)},d=t=>{const{key:e,shiftKey:n,target:a}=t;if(!["Tab","Escape"].includes(e))return;const r=a.closest(".sub-menu--main"),i=document.querySelector(`button[aria-controls="${r.id}"]`),o=Array.from(r.querySelectorAll("a, button")),{0:s,[o.length-1]:d}=o;t.stopPropagation(),("Escape"===e||"Tab"===e&&a===s&&n||"Tab"===e&&a===d&&!n)&&(i.setAttribute("data-open",!1),i.setAttribute("aria-expanded",!1),r.setAttribute("data-open",!1),r.setAttribute("aria-hidden",!0)),"Escape"===e&&(t.preventDefault(),i.focus())},c=t=>{const{key:r,shiftKey:i,target:o}=t;if(!["Tab","Escape"].includes(r))return;if("true"===o.getAttribute("data-open"))return;const s=Array.from(a.querySelectorAll(".menu-item--depth-0 > button")),{0:d,[s.length-1]:c}=s;("Escape"===r||"Tab"===r&&o===d&&i||"Tab"===r&&o===c&&!i)&&(e.setAttribute("data-open",!1),e.setAttribute("aria-expanded",!1),n.setAttribute("data-open",!1),n.setAttribute("aria-hidden",!0)),"Escape"===r&&(t.preventDefault(),e.focus())},l=()=>{const t=r.matches;e.setAttribute("data-open",t),e.setAttribute("aria-expanded",t),n.setAttribute("data-open",t),n.setAttribute("aria-hidden",!t)},u=()=>{r.matches||(e.setAttribute("data-open",!1),e.setAttribute("aria-expanded",!1),n.setAttribute("data-open",!1),n.setAttribute("aria-hidden",!0));Array.from(a.querySelectorAll(".menu-item--depth-0 > .sub-menu")).forEach((t=>{const e=document.querySelector(`button[aria-controls="${t.id}"]`);e.setAttribute("data-open",!1),e.setAttribute("aria-expanded",!1),t.setAttribute("data-open",!1),t.setAttribute("aria-hidden",!0)}))};var m=()=>{t&&e&&n&&(e.setAttribute("data-open",!1),e.setAttribute("aria-expanded",!1),e.setAttribute("aria-controls","primary-navigation-container"),n.setAttribute("data-open",!1),Array.from(a.querySelectorAll(".menu-item-has-children.menu-item--depth-0")).forEach((t=>{const{id:e}=t,n=t.querySelector("a"),a=t.querySelector("ul"),r=document.createElement("button"),i=document.createElement("span");i.classList.add("glyph-prepend","glyph-prepend-chevron-down","glyph-prepend-xsmall"),r.textContent=n.textContent,r.setAttribute("type","button"),r.setAttribute("aria-controls",`submenu-${e}`),r.setAttribute("aria-expanded",!1),r.setAttribute("data-open",!1),r.appendChild(i),n.parentNode.replaceChild(r,n),a.setAttribute("id",`submenu-${e}`),a.setAttribute("aria-hidden",!0),a.setAttribute("data-open",!1),a.classList.add("sub-menu--main")})),l(),(()=>{const t=Array.from(a.querySelectorAll(".menu-item-columns")),e={sm:"( min-width: 33.75em )",md:"( min-width: 53.75em )",lg:"( min-width: 67.75em )",xl:"( min-width: 87.5em )"};t.forEach((t=>{const n=new RegExp(/menu-item-col-?(sm|md|lg|xl)?-(\d)/,"g"),a=Array.from(t.className.matchAll(n));if(!a.length)return;let r;const i=()=>{let e=1;for(let t=0;t<r.length;t+=1){const{mq:n,columns:a}=r[t];if(!n.matches||"undefined"===n.media)break;e=a}const n=t.querySelector("ul"),a=Array.from(n.querySelectorAll("li")),i=Math.min(14,Math.ceil(a.length/parseInt(e,10)));n.style.setProperty("--rows",i)};r=a.map((t=>{const[,n,a]=t;let r="";r=n?e[n]:"( min-width: 0em )";const o=window.matchMedia(r);return o.addEventListener("change",i),{columns:a,mq:o}})),i()}))})(),e.addEventListener("click",i),Array.from(a.querySelectorAll(".menu-item--depth-0 > button")).forEach((t=>{t.addEventListener("click",o),t.addEventListener("keydown",s)})),Array.from(a.querySelectorAll(".menu-item--depth-0 > .sub-menu")).forEach((t=>{t.addEventListener("keydown",d)})),a.addEventListener("keydown",c),r.addEventListener("change",l),document.addEventListener("click",u),n.addEventListener("click",(t=>{t.stopPropagation()})))};function p(t){let e;return function(){const n=this,a=arguments;e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame((function(){t.apply(n,a)}))}}const h=()=>{const t=window.innerWidth-document.body.clientWidth+"px";if(document.documentElement.style.setProperty("--scrollbar-width",t),!window.CSS||!CSS.supports||!CSS.supports("(--foo: bar)")){let e=document.getElementById("scrollbar-style");e||(e=document.createElement("style"),e.setAttribute("id","scrollbar-style"),document.querySelector("head").appendChild(e)),e.innerText=`.alignfull { max-width: calc(100vw - ${t}); margin: 2em calc(50% - 50vw + ${t}/2); }`}};var b=()=>{window.addEventListener("resize",p(h)),h()};var g=()=>{const t=document.querySelectorAll('form[type="searchForm"]');0!==t.length&&"undefined"!==typeof analytics&&t.forEach((function(t){if(t){const e=t.querySelector('input[name="s"]');if(e){const n=e.getAttribute("id"),a=e.getAttribute("name"),r={behavior:61,actionType:"CL",contentTags:{srchq:e.value.toString()}};n&&(r.contentTags.id=n),a&&(r.contentTags.name=a),t.onsubmit=function(n){n.preventDefault(),r.contentTags.srchq=e.value.toString(),analytics.capturePageAction(null,r),t.submit()}}}}))};const y=document.getElementById("single-tags"),A=window.matchMedia("( min-width: 67.75em )");let f=null,w=null,E=!1;const v=()=>{if(E)f.forEach((t=>{t.classList.remove("js-hidden")}));else if(A.matches)f.forEach(((t,e)=>{e<3||t.classList.add("js-hidden")}));else{const t=6,e=document.getElementById("single-tags-button"),n=y.getBoundingClientRect().width-e.getBoundingClientRect().width;let a=0;f.forEach((e=>{const r=e.getBoundingClientRect().width;a+=r+t,a>=n?e.classList.add("js-hidden"):e.classList.remove("js-hidden")}))}},L=()=>{v(),A.matches||f.filter((t=>t.classList.contains("js-hidden"))).length?w.classList.remove("d-none"):w.classList.add("d-none")},S=p((()=>{L()})),x=()=>{E=!E,w.setAttribute("aria-expanded",E),w.setAttribute("aria-label",E?window.securityBlog.i18n.less_tags:window.securityBlog.i18n.more_tags),w.innerText=E?window.securityBlog.i18n.less:window.securityBlog.i18n.more,E?(w.addEventListener("keydown",(t=>{const{shiftKey:e,key:n}=t;"Tab"===n&&(e||(t.preventDefault(),y.querySelector("a").focus()))}),{once:!0}),w.classList.remove("glyph-append-chevron-down"),w.classList.add("glyph-append-chevron-up")):(w.classList.remove("glyph-append-chevron-up"),w.classList.add("glyph-append-chevron-down")),v()},q=()=>{w=(()=>{const t=document.createElement("button");return t.setAttribute("type","button"),t.setAttribute("aria-expanded",E),t.setAttribute("aria-label",window.securityBlog.i18n.more_tags),t.setAttribute("id","single-tags-button"),t.classList.add("single__tags-button","btn","btn-sm","btn-link","glyph-append","glyph-append-chevron-down","glyph-append-xsmall","pr-3"),t.innerText=window.securityBlog.i18n.more,t})(),y.appendChild(w),w.addEventListener("click",x),window.addEventListener("resize",S),L()};var k=()=>{y&&(f=Array.from(y.querySelectorAll("li")),f.length<4||q())};const B=()=>{const t=localStorage.getItem("msxcmCurrentTheme"),e="dark"===t||"light"!==t&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,n=document.querySelector(".c-uhfh-alert.theme-light");e?(document.body.classList.add("theme-dark"),n&&(n.classList.remove("theme-light"),n.classList.add("theme-dark","bg-body","border-bottom"))):(document.body.classList.remove("theme-dark"),n&&(n.classList.remove("theme-dark","bg-body","border-bottom"),n.classList.add("theme-light")))};document.addEventListener("DOMContentLoaded",(()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",B)})),B(),b(),m(),g(),k()}();